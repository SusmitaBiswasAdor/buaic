{% extends 'base.html' %} {% block title %}Login - BUAIC{% endblock %} {% block
content %}
<div class="container mx-auto mt-8 flex justify-center items-center">
  <div class="bg-white p-8 shadow-md rounded-md w-96">
    <h1 class="text-3xl font-bold mb-6">Login</h1>

    <form method="post" action="{{ url_for('user.login') }}" class="space-y-4">
      <!-- Email and password fields -->
      <div>
        <label for="email" class="text-sm">Email:</label>
        <input
          type="email"
          name="email"
          required
          class="border w-full p-2 rounded-md"
        />
      </div>

      <div>
        <label for="password" class="text-sm">Password:</label>
        <input
          type="password"
          name="password"
          required
          class="border w-full p-2 rounded-md"
        />
      </div>
      <!-- Forgot password link -->
      <br />
      <a href="/user/forgot-password"> Forget Password?</a>
      <!-- Login button -->
      <button
        type="submit"
        class="bg-[#2A5CAA] text-white p-2 rounded-md hover:bg-[#09377c] w-full"
      >
        Login
      </button>
    </form>
  </div>
</div>

{% if show_tfa_popup %}
<div
  id="overlay"
  class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 backdrop-blur"
></div>
<div
  id="otpVerificationPopup"
  class="hidden fixed z-50 inset-0 flex items-center justify-center"
>
  <div class="bg-white p-8 shadow-md rounded-md w-96">
    <h2 class="text-2xl font-bold mb-4">Enter OTP</h2>
    <form
      method="POST"
      action="{{ url_for('user.verify_otp') }}"
      class="space-y-4"
    >
      <div>
        <label for="otp" class="text-sm">OTP:</label>
        <input
          type="text"
          id="otp"
          name="otp"
          required
          class="border w-full p-2 rounded-md"
        />
      </div>
      <!-- Submit OTP button -->
      <button
        type="submit"
        class="bg-[#2A5CAA] text-white p-2 rounded-md hover:bg-[#09377c] w-full"
      >
        Verify OTP
      </button>
    </form>
  </div>
</div>

<script>
  document.getElementById("otpVerificationPopup").classList.remove("hidden");
  document.getElementById("overlay").classList.remove("hidden");
</script>
{% endif %} {% endblock %}
