{% extends "base.html" %} {% block title %}All Rooms{% endblock %} {% block
content %}
<div class="container mx-auto min-h-screen">
  <div>
    <h1 class="my-8 text-3xl font-bold text-center">All Rooms</h1>

    <div class="bg-white shadow-md rounded-lg overflow-x-auto">
      <table class="table-auto w-full" id="rooms-table">
        <thead class="bg-gray-200">
          <tr>
            <th class="px-6 py-3 text-center">Room ID</th>
            <th class="px-6 py-3 text-center">Room Number</th>
            <th class="px-6 py-3 text-center">Booked</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          {% for room in rooms %}
          <tr
            class="hover:bg-gray-100 room-row hover:cursor-pointer"
            data-url="{{ url_for('resources.edit_room', room_id=room.id) }}"
          >
            <td class="px-6 py-4 text-center">{{ room.id }}</td>
            <td class="px-6 py-4 text-center">{{ room.room_number }}</td>
            {% if room.booked %}
            <td class="px-6 py-4 text-center">Yes</td>
            {% else %}
            <td class="px-6 py-4 text-center">No</td>
            {% endif %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
<script>
  const roomRows = document.querySelectorAll(".room-row");
  roomRows.forEach((row) => {
    row.addEventListener("click", () => {
      const url = row.getAttribute("data-url");
      window.location.href = url;
    });
  });
</script>
{% endblock %}
